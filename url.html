<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>URL : explication visuelle</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <a class="skip" href="#main">Aller au contenu</a>

  <header class="header">
    <div class="topbar">
      <div class="wrap title"><h1>URL : explication visuelle</h1></div>
    </div>

    <!-- NAV Hamburger -->
    <nav class="subnav" aria-label="Navigation">
      <div class="wrap navwrap">
        <!-- Bouton hamburger -->
        <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navMenu" aria-label="Ouvrir le menu">
          <span class="line"></span><span class="line"></span><span class="line"></span>
        </button>

        <!-- Menu -->
        <div class="navmenu" id="navMenu" role="menu">
          <a href="index.html" role="menuitem">Accueil</a>
          <a href="timeline.html" role="menuitem">Timeline</a>
          <a href="url.html" role="menuitem" class="active">URL (visuel)</a>
          <a href="domains.html" role="menuitem">Domaines &amp; DNS</a>
          <a href="standards.html" role="menuitem">Standards</a>
          <a href="security.html" role="menuitem">Sécurité</a>
          <a href="sources.html" role="menuitem">Sources</a>
        </div>
      </div>
    </nav>
  </header>

  <main id="main" class="wrap section">
    <ul class="objectives">
      <li>Désosser une URL en 7 parties.</li>
      <li>Comprendre 2xx/3xx/4xx/5xx et 301 vs 302.</li>
    </ul>
    <p class="lead">Tape une URL ou clique sur les morceaux pour apprendre. Essaie aussi les exemples.</p>

    <div class="card url-lab">
      <div class="url-inputs">
        <input id="urlInput" value="https://alice:secret@example.com:8080/produits/42?tri=prix&desc=true#avis" aria-label="Saisir une URL" />
        <button class="btn" id="parseBtn">Analyser</button>
        <button class="btn ghost" id="copyUrl" data-copy="#urlInput">Copier</button>
      </div>
      <div class="chips">
        <button class="chip ex" data-example="https://www.example.org">Exemple 1</button>
        <button class="chip ex" data-example="http://blog.exemple.be:80/?page=1#top">Exemple 2</button>
        <button class="chip ex" data-example="mailto:contact@exemple.com">mailto:</button>
      </div>

      <div id="urlMap" class="url-map" role="list" aria-label="Composants de l’URL">
        <div class="tag" style="grid-column:1/span 2" data-key="scheme">https://</div>
        <div class="tag" style="grid-column:3/span 2" data-key="userinfo">alice:secret@</div>
        <div class="tag" style="grid-column:5/span 3" data-key="host">example.com</div>
        <div class="tag" style="grid-column:8/span 1" data-key="port">:8080</div>
        <div class="tag" style="grid-column:9/span 2" data-key="path">/produits/42</div>
        <div class="tag" style="grid-column:11/span 1" data-key="query">?tri=prix&desc=true</div>
        <div class="tag" style="grid-column:12/span 1" data-key="fragment">#avis</div>
      </div>

      <div class="legend" id="legend">
        <div class="item" data-key="scheme"><div class="dot"></div><div><strong>Schéma</strong> : protocole (<code>http</code>, <code>https</code>, <code>ftp</code>, <code>mailto</code>...).</div></div>
        <div class="item" data-key="userinfo"><div class="dot"></div><div><strong>Infos utilisateur</strong> (optionnel) : <code>utilisateur:motdepasse@</code>.</div></div>
        <div class="item" data-key="host"><div class="dot"></div><div><strong>Hôte</strong> : nom de domaine ou IP.</div></div>
        <div class="item" data-key="port"><div class="dot"></div><div><strong>Port</strong> : ex. <code>80</code> HTTP, <code>443</code> HTTPS.</div></div>
        <div class="item" data-key="path"><div class="dot"></div><div><strong>Chemin</strong> : chemin vers la ressource.</div></div>
        <div class="item" data-key="query"><div class="dot"></div><div><strong>Paramètres</strong> : paires <code>clé=valeur</code>.</div></div>
        <div class="item" data-key="fragment"><div class="dot"></div><div><strong>Fragment</strong> : ancre côté client.</div></div>
        <p class="muted">Astuce : <kbd>Ctrl</kbd> + <kbd>C</kbd> pour copier la sélection, ou utilise le bouton « Copier ».</p>
      </div>

      <details class="didyouknow">
        <summary>Le savais-tu ? URL vs URI</summary>
        <p>Une <strong>URI</strong> identifie une ressource. Une <strong>URL</strong> est un type d’URI qui donne aussi le moyen d’y accéder (schéma, hôte…).</p>
      </details>
    </div>

    <article class="card flow">
      <h3 class="mt-0">Status HTTP & redirections</h3>
      <ul>
        <li><strong>2xx</strong> – Succès (ex. <code>200 OK</code>)</li>
        <li><strong>3xx</strong> – Redirection (ex. <code>301 Moved Permanently</code>, <code>302 Found</code>)</li>
        <li><strong>4xx</strong> – Erreur côté client (ex. <code>404 Not Found</code>)</li>
        <li><strong>5xx</strong> – Erreur serveur (ex. <code>500 Internal Server Error</code>)</li>
      </ul>
      <div class="grid g-2">
        <div>
          <h4 class="mt-0">301 vs 302</h4>
          <p><strong>301 (permanente)</strong> : le navigateur et les robots mémorisent la nouvelle URL.<br>
          <strong>302 (temporaire)</strong> : ne pas mémoriser, revenir à l’URL d’origine plus tard.</p>
          <p class="small muted">SEO : privilégier <strong>301</strong> quand le déplacement est définitif.</p>
        </div>
        <div>
          <h4 class="mt-0">Exemples serveur (Nginx)</h4>
          <pre class="code"><code># 301 permanent
return 301 https://exemple.com$request_uri;

# 302 temporaire
return 302 https://exemple.com/maintenance;</code></pre>
        </div>
      </div>
    </article>

    <div class="card flow" id="statusLab">
      <h3 class="mt-0">Mini-lab : tester un code HTTP</h3>
      <div class="status-row">
        <label for="statusCode">Code :</label>
        <input id="statusCode" inputmode="numeric" value="200" aria-describedby="statusHelp" />
        <button class="btn" id="runStatus" type="button">Tester</button>
      </div>
      <p id="statusHelp" class="small muted">Essaie 200, 301, 302, 404, 500…</p>
      <div id="statusResult" class="status-box" role="status" aria-live="polite"></div>
    </div>

    <p class="next-wrap"><a class="btn next" href="domains.html">Section suivante → Domaines & DNS</a></p>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite" hidden>Copié !</div>
  <script src="js/common.js"></script>
  <script src="js/url.js"></script>
</body>
</html>
